<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>중복아이디검사</title>
   <script type="text/javascript">
      var ids=['gildong','lime','juwon'];//존재하는(이미등록된) 아이디
      //DB ==> 자바스크립트 배열
     
      function id_check(){
   
    	 var id = document.frm.id.value;
         if(id==''){
        	 alert('아이디를 입력하세요!!')
        	 return;
         }
         //var id='lime'
         //var ids=['gildong','lime','juwon'];
         
         var duplicate=false;
         
         // 배열의 length와 size의 차이점?
    	 // .앞의 객체만 달라진다.
    	 // 배열.length list.size() 문자열.length
    	 // 자바스크립트의 문자 길이는 length로 사용했으나 현재 size도 추가된 상태다.
         for(var i=0; i<ids.length; i++ ){//배열인덱스

        	if(id.toLowerCase() == ids[i]){
        		// 바로 여기서 리턴한다면 어떤 문제점이 생기남?
        		duplicate=true;
        	    break;
        	}
         }
         
         if(duplicate){//배열(DB)내에 중복아이디가 존재한다면
            alert('이미 사용중인 아이디입니다!!');
            document.frm.id.value='';
            document.frm.id.focus();
         }else{
        	alert('사용가능한 아이디입니다!!');
        	if(confirm('이 아이디를 사용하시겠습니까?')){
        		//opener== window  부모창, 부모브라우저
        		opener.document.joinForm.id.value=id;
        		window.close();
        	}
         }
         
      }//id_check()
      
   </script>
</head>
<!-- confirm_id.html -->
<body>
  <h3>중복아이디검사</h3>
  <form name="frm">
      I D: <input type="text" name="id" size="15">
      <button type="button" onclick="id_check()">중복확인</button>
  </form>
</body>
</html>



